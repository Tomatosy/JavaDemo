# JavaDemo

**一、用户管理场景**

（1）用户注册：

1）输入手机号，获取验证码，

2）输入用户名、密码、验证码后新增用户（用户名唯一、验证码正确、密码复6位以上）

（2）用户登录：

1）输入手机号，获取验证码

2）输入用户名、密码、验证码后登录（验证码正确，用户名、密码正确）

（3）用户查询：

1）访问用户查询功能，自定义查询条件，根据用户名及密码组合查询，支持模糊查询，不输入代表全部，显示内容包括：用户名、密码、用户描述

（4）退出登录

 

**一、实现要求**

（1）根据需求，Controller提供CreateUser、QueryUser、GetVailCode、Login、LogOut4个Api接口。

（2）通过Mybatis实现数据库DAO访问

（3）通过Shiro实现登录验证，自行涉及哪些Api接口需验证、哪些接口不应该验证

（4）通过Shiro实现权限验证，用户查询功能必须拥有admin角色才能够访问

（5）通过Druid实现CRQS，QueryUser接口从读库进行取数。

（6）通过Redis实现验证码管理，验证码有效期为1分钟。

（7）通过Swagger实现Api开发文档提供给到前端

（8）完成CreateUser的单元测试，为与redis解耦，其中验证码验证逻辑通过Mock替换注入